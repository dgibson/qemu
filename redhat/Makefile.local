ARCH=$(shell uname -m)
TARGET_NAME-aarch64:=aarch64
TARGET_NAME-ppc64:=ppc64
TARGET_NAME-ppc64le:=$(TARGET_NAME-ppc64)
TARGET_NAME-x86_64:=x86_64
TARGET_NAME-i386:=
TARGET_NAME-s390x:=
TARGET_NAME=$(TARGET_NAME-$(ARCH))

COMPILE_OPTIONS=$(shell rpm --eval '%{optflags}')

GUEST_AGENT_OPTION:=enable
NUMA_OPTION:=enable
RDMA_OPTION:=enable
SECCOMP_OPTION:=enable
TMALLOC_OPTION:=disable

FDT_OPTION-aarch64:=enable
FDT_OPTION-ppc64:=enable
FDT_OPTION-ppc64le:=enable
FDT_OPTION-x86_64:=disable
FDT_OPTION-i386:=
FDT_OPTION-s390x:=
FDT_OPTION=$(FDT_OPTION-$(ARCH))

GLUSTER_OPTION-aarch64:=disable
GLUSTER_OPTION-ppc64:=disable
GLUSTER_OPTION-ppc64le:=disable
GLUSTER_OPTION-x86_64:=disable
GLUSTER_OPTION-i386:=
GLUSTER_OPTION-s390x:=
GLUSTER_OPTION=$(GLUSTER_OPTION-$(ARCH))

RBD_OPTION-aarch64:=disable
RBD_OPTION-ppc64:=disable
RBD_OPTION-ppc64le:=disable
RBD_OPTION-x86_64:=enable
RBD_OPTION-i386:=
RBD_OPTION-s390x:=
RBD_OPTION=$(RBD_OPTION-$(ARCH))

SPICE_OPTION-aarch64:=disable
SPICE_OPTION-ppc64:=disable
SPICE_OPTION-ppc64le:=disable
SPICE_OPTION-x86_64:=enable
SPICE_OPTION-i386:=
SPICE_OPTION-s390x:=
SPICE_OPTION=$(SPICE_OPTION-$(ARCH))

USBREDIR_OPTION-aarch64:=disable
USBREDIR_OPTION-ppc64:=disable
USBREDIR_OPTION-ppc64le:=disable
USBREDIR_OPTION-x86_64:=enable
USBREDIR_OPTION-i386:=
USBREDIR_OPTION-s390x:=
USBREDIR_OPTION=$(USBREDIR_OPTION-$(ARCH))

VXHS_OPTION-aarch64:=disable
VXHS_OPTION-ppc64:=disable
VXHS_OPTION-ppc64le:=disable
VXHS_OPTION-x86_64:=enable
VXHS_OPTION-i386:=
VXHS_OPTION-s390x:=
VXHS_OPTION=$(VXHS_OPTION-$(ARCH))

VHOST_USER_OPTION=enable

PYTHON_OPTION=$(shell rpm --eval '%{__python3}')
